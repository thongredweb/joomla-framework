<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
<meta charset="utf-8">
<title>Joomla Framework API » \Joomla\Filesystem\Patcher</title>
<meta name="author" content="Mike van Riel">
<meta name="description" content="">
<link href="../css/template.css" rel="stylesheet" media="all">
<script src="../js/jquery-1.7.1.min.js" type="text/javascript"></script><script src="../js/jquery-ui-1.8.2.custom.min.js" type="text/javascript"></script><script src="../js/jquery.mousewheel.min.js" type="text/javascript"></script><script src="../js/bootstrap.js" type="text/javascript"></script><script src="../js/template.js" type="text/javascript"></script><script src="../js/prettify/prettify.min.js" type="text/javascript"></script><link rel="shortcut icon" href="../img/favicon.ico">
<link rel="apple-touch-icon" href="../img/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="72x72" href="../img/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="114x114" href="../img/apple-touch-icon-114x114.png">
</head>
<body>
<div class="navbar navbar-fixed-top">
<div class="navbar-inner"><div class="container">
<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></a><a class="brand" href="../index.html">Joomla Framework API</a><div class="nav-collapse"><ul class="nav">
<li class="dropdown">
<a href="#api" class="dropdown-toggle" data-toggle="dropdown">
                                    API Documentation <b class="caret"></b></a><ul class="dropdown-menu">
<li><a>Namespaces</a></li>
<li><a href="../namespaces/Joomla.html"><i class="icon-th"></i> Joomla</a></li>
<li><a href="../namespaces/global.html"><i class="icon-th"></i> global</a></li>
</ul>
</li>
<li class="dropdown" id="charts-menu">
<a href="#charts" class="dropdown-toggle" data-toggle="dropdown">
                                    Charts <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="../graph_class.html"><i class="icon-list-alt"></i> Class hierarchy diagram</a></li></ul>
</li>
<li class="dropdown" id="reports-menu">
<a href="#reports" class="dropdown-toggle" data-toggle="dropdown">
                                    Reports <b class="caret"></b></a><ul class="dropdown-menu">
<li><a href="../errors.html"><i class="icon-remove-sign"></i> Errors 
                <span class="label label-info">7</span></a></li>
<li><a href="../markers.html"><i class="icon-map-marker"></i> Markers 
                <ul><li>todo 
                <span class="label label-info">25</span>
</li></ul></a></li>
<li><a href="../deprecated.html"><i class="icon-stop"></i> Deprecated elements 
                <span class="label label-info">1</span></a></li>
</ul>
</li>
</ul></div>
</div></div>
<div class="go_to_top"><a href="#___" style="color: inherit">Back to top  <i class="icon-upload icon-white"></i></a></div>
</div>
<div id="___" class="container">
<noscript><div class="alert alert-warning">
                            Javascript is disabled; several features are only available
                            if Javascript is enabled.
                        </div></noscript>
<div class="row">
<div class="span4">
<span class="btn-group visibility" data-toggle="buttons-checkbox"><button class="btn public active" title="Show public elements">Public</button><button class="btn protected" title="Show protected elements">Protected</button><button class="btn private" title="Show private elements">Private</button><button class="btn inherited active" title="Show inherited elements">Inherited</button></span><div class="btn-group view pull-right" data-toggle="buttons-radio">
<button class="btn details" title="Show descriptions and method names"><i class="icon-list"></i></button><button class="btn simple" title="Show only method names"><i class="icon-align-justify"></i></button>
</div>
<ul class="side-nav nav nav-list">
<li class="nav-header">
<i class="icon-custom icon-method"></i> Methods
                    <ul>
<li class="method public "><a href="#method_add" title="add :: Add a unified diff string to the patcher"><span class="description">Add a unified diff string to the patcher</span><pre>add()</pre></a></li>
<li class="method public "><a href="#method_addFile" title="addFile :: Add a unified diff file to the patcher"><span class="description">Add a unified diff file to the patcher</span><pre>addFile()</pre></a></li>
<li class="method public "><a href="#method_apply" title="apply :: Apply the patches"><span class="description">Apply the patches</span><pre>apply()</pre></a></li>
<li class="method public "><a href="#method_getInstance" title="getInstance :: Method to get a patcher"><span class="description">Method to get a patcher</span><pre>getInstance()</pre></a></li>
<li class="method public "><a href="#method_reset" title="reset :: Reset the pacher"><span class="description">Reset the pacher</span><pre>reset()</pre></a></li>
</ul>
</li>
<li class="nav-header protected">» Protected
                    <ul>
<li class="method protected "><a href="#method___construct" title="__construct :: Constructor"><span class="description">Constructor</span><pre>__construct()</pre></a></li>
<li class="method protected "><a href="#method_applyHunk" title="applyHunk :: Apply the patch"><span class="description">Apply the patch</span><pre>applyHunk()</pre></a></li>
<li class="method protected "><a href="#method_findHeader" title="findHeader :: Find the diff header"><span class="description">Find the diff header</span><pre>findHeader()</pre></a></li>
<li class="method protected "><a href="#method_findHunk" title="findHunk :: Find the next hunk of difference"><span class="description">Find the next hunk of difference</span><pre>findHunk()</pre></a></li>
<li class="method protected "><a href="#method_getDestination" title="getDestination :: Get the lines of a destination file"><span class="description">Get the lines of a destination file</span><pre>getDestination()</pre></a></li>
<li class="method protected "><a href="#method_getSource" title="getSource :: Get the lines of a source file"><span class="description">Get the lines of a source file</span><pre>getSource()</pre></a></li>
<li class="method protected "><a href="#method_splitLines" title="splitLines :: Separate CR or CRLF lines"><span class="description">Separate CR or CRLF lines</span><pre>splitLines()</pre></a></li>
</ul>
</li>
<li class="nav-header">
<i class="icon-custom icon-property"></i> Properties
                    <ul></ul>
</li>
<li class="nav-header protected">» Protected
                    <ul>
<li class="property protected "><a href="#property_destinations" title="$destinations :: "><span class="description">destination files</span><pre>$destinations</pre></a></li>
<li class="property protected "><a href="#property_instance" title="$instance :: "><span class="description">instance of this class</span><pre>$instance</pre></a></li>
<li class="property protected "><a href="#property_patches" title="$patches :: "><span class="description">patches</span><pre>$patches</pre></a></li>
<li class="property protected "><a href="#property_removals" title="$removals :: "><span class="description">removal files</span><pre>$removals</pre></a></li>
<li class="property protected "><a href="#property_sources" title="$sources :: "><span class="description">sources files</span><pre>$sources</pre></a></li>
</ul>
</li>
<li class="nav-header">
<i class="icon-custom icon-constant"></i> Constants
                    <ul>
<li class="constant  "><a href="#constant_DST_FILE" title="DST_FILE :: Regular expression for searching destination files"><span class="description">Regular expression for searching destination files</span><pre>DST_FILE</pre></a></li>
<li class="constant  "><a href="#constant_HUNK" title="HUNK :: Regular expression for searching hunks of differences"><span class="description">Regular expression for searching hunks of differences</span><pre>HUNK</pre></a></li>
<li class="constant  "><a href="#constant_SPLIT" title="SPLIT :: Regular expression for splitting lines"><span class="description">Regular expression for splitting lines</span><pre>SPLIT</pre></a></li>
<li class="constant  "><a href="#constant_SRC_FILE" title="SRC_FILE :: Regular expression for searching source files"><span class="description">Regular expression for searching source files</span><pre>SRC_FILE</pre></a></li>
</ul>
</li>
</ul>
</div>
<div class="span8">
<a id="\Joomla\Filesystem\Patcher"></a><ul class="breadcrumb">
<li>
<a href="../index.html"><i class="icon-custom icon-class"></i></a><span class="divider">\</span>
</li>
<li><a href="../namespaces/Joomla.html">Joomla</a></li>
<li>
<span class="divider">\</span><a href="../namespaces/Joomla.Filesystem.html">Filesystem</a>
</li>
<li class="active">
<span class="divider">\</span><a href="../classes/Joomla.Filesystem.Patcher.html">Patcher</a>
</li>
</ul>
<div class="element class">
<p class="short_description">A Unified Diff Format Patcher class</p>
<div class="details">
<div class="long_description"></div>
<table class="table table-bordered">
<tr>
<th>link</th>
<td><a href="http://sourceforge.net/projects/phppatcher/">This has been derived from the PhpPatcher version 0.1.1 written by Giuseppe Mazzotta</a></td>
</tr>
<tr>
<th>since</th>
<td>1.0</td>
</tr>
</table>
<h3>
<i class="icon-custom icon-method"></i> Methods</h3>
<a id="method_add"></a><div class="element clickable method public method_add" data-toggle="collapse" data-target=".method_add .collapse">
<h2>Add a unified diff string to the patcher</h2>
<pre>add(string $udiff, string $root, string $strip) : \Joomla\Filesystem\JFilesystemPatch</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>since</th>
<td>1.0</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$udiff</h4>
<code>string</code><p>Unified diff input string</p></div>
<div class="subelement argument">
<h4>$root</h4>
<code>string</code><p>The files root path</p></div>
<div class="subelement argument">
<h4>$strip</h4>
<code>string</code><p>The number of '/' to strip</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>\Joomla\Filesystem\JFilesystemPatch</code>$this for chaining</div>
</div></div>
</div>
<a id="method_addFile"></a><div class="element clickable method public method_addFile" data-toggle="collapse" data-target=".method_addFile .collapse">
<h2>Add a unified diff file to the patcher</h2>
<pre>addFile(string $filename, string $root, string $strip) : \Joomla\Filesystem\JFilesystemPatch</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>since</th>
<td>1.0</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$filename</h4>
<code>string</code><p>Path to the unified diff file</p></div>
<div class="subelement argument">
<h4>$root</h4>
<code>string</code><p>The files root path</p></div>
<div class="subelement argument">
<h4>$strip</h4>
<code>string</code><p>The number of '/' to strip</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>\Joomla\Filesystem\JFilesystemPatch</code>$this for chaining</div>
</div></div>
</div>
<a id="method_apply"></a><div class="element clickable method public method_apply" data-toggle="collapse" data-target=".method_apply .collapse">
<h2>Apply the patches</h2>
<pre>apply() : integer</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Exceptions</h3>
<table class="table table-bordered"><tr>
<th><code>\Joomla\Filesystem\RuntimeException</code></th>
<td></td>
</tr></table>
<h3>Returns</h3>
<div class="subelement response">
<code>integer</code>the number of files patched</div>
</div></div>
</div>
<a id="method_getInstance"></a><div class="element clickable method public method_getInstance" data-toggle="collapse" data-target=".method_getInstance .collapse">
<h2>Method to get a patcher</h2>
<pre>getInstance() : \Joomla\Filesystem\JFilesystemPatcher</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>since</th>
<td>1.0</td>
</tr></table>
<h3>Returns</h3>
<div class="subelement response">
<code>\Joomla\Filesystem\JFilesystemPatcher</code>an instance of the patcher</div>
</div></div>
</div>
<a id="method_reset"></a><div class="element clickable method public method_reset" data-toggle="collapse" data-target=".method_reset .collapse">
<h2>Reset the pacher</h2>
<pre>reset() : \Joomla\Filesystem\JFilesystemPatcher</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response">
<code>\Joomla\Filesystem\JFilesystemPatcher</code>This object for chaining</div>
</div></div>
</div>
<a id="method___construct"></a><div class="element clickable method protected method___construct" data-toggle="collapse" data-target=".method___construct .collapse">
<h2>Constructor</h2>
<pre>__construct() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>The constructor is protected to force the use of JFilesystemPatcher::getInstance()</p></div>
<table class="table table-bordered"><tr>
<th>since</th>
<td>1.0</td>
</tr></table>
</div></div>
</div>
<a id="method_applyHunk"></a><div class="element clickable method protected method_applyHunk" data-toggle="collapse" data-target=".method_applyHunk .collapse">
<h2>Apply the patch</h2>
<pre>applyHunk(array $lines, string $src, string $dst, string $src_line, string $src_size, string $dst_line, string $dst_size) : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$lines</h4>
<code>array</code><p>&$lines    The udiff array of lines</p>
</div>
<div class="subelement argument">
<h4>$src</h4>
<code>string</code><p>The source file</p></div>
<div class="subelement argument">
<h4>$dst</h4>
<code>string</code><p>The destination file</p></div>
<div class="subelement argument">
<h4>$src_line</h4>
<code>string</code><p>The beginning of the patch for the source file</p></div>
<div class="subelement argument">
<h4>$src_size</h4>
<code>string</code><p>The size of the patch for the source file</p></div>
<div class="subelement argument">
<h4>$dst_line</h4>
<code>string</code><p>The beginning of the patch for the destination file</p></div>
<div class="subelement argument">
<h4>$dst_size</h4>
<code>string</code><p>The size of the patch for the destination file</p></div>
<h3>Exceptions</h3>
<table class="table table-bordered"></table>
</div></div>
</div>
<a id="method_findHeader"></a><div class="element clickable method protected method_findHeader" data-toggle="collapse" data-target=".method_findHeader .collapse">
<h2>Find the diff header</h2>
<pre>findHeader(array $lines, string $src, string $dst) : boolean</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>The internal array pointer of $lines is on the next line after the finding</p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$lines</h4>
<code>array</code><p>&$lines  The udiff array of lines</p>
</div>
<div class="subelement argument">
<h4>$src</h4>
<code>string</code><p>&$src    The source file</p>
</div>
<div class="subelement argument">
<h4>$dst</h4>
<code>string</code><p>&$dst    The destination file</p>
</div>
<h3>Exceptions</h3>
<table class="table table-bordered"></table>
<h3>Returns</h3>
<div class="subelement response">
<code>boolean</code>TRUE in case of success, FALSE in case of failure</div>
</div></div>
</div>
<a id="method_findHunk"></a><div class="element clickable method protected method_findHunk" data-toggle="collapse" data-target=".method_findHunk .collapse">
<h2>Find the next hunk of difference</h2>
<pre>findHunk(array $lines, string $src_line, string $src_size, string $dst_line, string $dst_size) : boolean</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>The internal array pointer of $lines is on the next line after the finding</p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$lines</h4>
<code>array</code><p>&$lines     The udiff array of lines</p>
</div>
<div class="subelement argument">
<h4>$src_line</h4>
<code>string</code><p>&$src_line  The beginning of the patch for the source file</p>
</div>
<div class="subelement argument">
<h4>$src_size</h4>
<code>string</code><p>&$src_size  The size of the patch for the source file</p>
</div>
<div class="subelement argument">
<h4>$dst_line</h4>
<code>string</code><p>&$dst_line  The beginning of the patch for the destination file</p>
</div>
<div class="subelement argument">
<h4>$dst_size</h4>
<code>string</code><p>&$dst_size  The size of the patch for the destination file</p>
</div>
<h3>Exceptions</h3>
<table class="table table-bordered"></table>
<h3>Returns</h3>
<div class="subelement response">
<code>boolean</code>TRUE in case of success, false in case of failure</div>
</div></div>
</div>
<a id="method_getDestination"></a><div class="element clickable method protected method_getDestination" data-toggle="collapse" data-target=".method_getDestination .collapse">
<h2>Get the lines of a destination file</h2>
<pre>getDestination(string $dst, string $src) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>since</th>
<td>1.0</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$dst</h4>
<code>string</code><p>The path of a destination file</p></div>
<div class="subelement argument">
<h4>$src</h4>
<code>string</code><p>The path of a source file</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>The lines of the destination file</div>
</div></div>
</div>
<a id="method_getSource"></a><div class="element clickable method protected method_getSource" data-toggle="collapse" data-target=".method_getSource .collapse">
<h2>Get the lines of a source file</h2>
<pre>getSource(string $src) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>since</th>
<td>1.0</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$src</h4>
<code>string</code><p>The path of a file</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>The lines of the source file</div>
</div></div>
</div>
<a id="method_splitLines"></a><div class="element clickable method protected method_splitLines" data-toggle="collapse" data-target=".method_splitLines .collapse">
<h2>Separate CR or CRLF lines</h2>
<pre>splitLines(string $data) : array</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>since</th>
<td>1.0</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$data</h4>
<code>string</code><p>Input string</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>The lines of the inputdestination file</div>
</div></div>
</div>
<h3>
<i class="icon-custom icon-property"></i> Properties</h3>
<a id="property_destinations"> </a><div class="element clickable property protected property_destinations" data-toggle="collapse" data-target=".property_destinations .collapse">
<h2>destination files</h2>
<pre>$destinations : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>since</th>
<td>1.0</td>
</tr></table>
</div></div>
</div>
<a id="property_instance"> </a><div class="element clickable property protected property_instance" data-toggle="collapse" data-target=".property_instance .collapse">
<h2>instance of this class</h2>
<pre>$instance : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>since</th>
<td>1.0</td>
</tr></table>
</div></div>
</div>
<a id="property_patches"> </a><div class="element clickable property protected property_patches" data-toggle="collapse" data-target=".property_patches .collapse">
<h2>patches</h2>
<pre>$patches : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>since</th>
<td>1.0</td>
</tr></table>
</div></div>
</div>
<a id="property_removals"> </a><div class="element clickable property protected property_removals" data-toggle="collapse" data-target=".property_removals .collapse">
<h2>removal files</h2>
<pre>$removals : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>since</th>
<td>1.0</td>
</tr></table>
</div></div>
</div>
<a id="property_sources"> </a><div class="element clickable property protected property_sources" data-toggle="collapse" data-target=".property_sources .collapse">
<h2>sources files</h2>
<pre>$sources : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>since</th>
<td>1.0</td>
</tr></table>
</div></div>
</div>
<h3>
<i class="icon-custom icon-constant"></i> Constants</h3>
<a id="constant_DST_FILE"> </a><div class="element clickable constant  constant_DST_FILE" data-toggle="collapse" data-target=".constant_DST_FILE .collapse">
<h2>Regular expression for searching destination files</h2>
<pre>DST_FILE </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="constant_HUNK"> </a><div class="element clickable constant  constant_HUNK" data-toggle="collapse" data-target=".constant_HUNK .collapse">
<h2>Regular expression for searching hunks of differences</h2>
<pre>HUNK </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="constant_SPLIT"> </a><div class="element clickable constant  constant_SPLIT" data-toggle="collapse" data-target=".constant_SPLIT .collapse">
<h2>Regular expression for splitting lines</h2>
<pre>SPLIT </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="constant_SRC_FILE"> </a><div class="element clickable constant  constant_SRC_FILE" data-toggle="collapse" data-target=".constant_SRC_FILE .collapse">
<h2>Regular expression for searching source files</h2>
<pre>SRC_FILE </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
</div>
</div>
</div>
</div>
<div class="row"><footer class="span12">
            Template is built using <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap 2</a> and icons provided by <a href="http://glyphicons.com/">Glyphicons</a>.<br>
            Documentation is powered by <a href="http://www.phpdoc.org/">phpDocumentor 2.0.0a12</a> and<br>
            generated on 2013-04-14T17:38:02-05:00.<br></footer></div>
</div>
</body>
</html>
